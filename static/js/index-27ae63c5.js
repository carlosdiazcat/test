import{b as e,l as o,p as a,r as l,bd as r,v as n,b4 as t,b5 as s,q as d,bc as u,b7 as i,ba as c,F as m,bl as g,bz as v,bn as b,bA as p,bk as P,bw as w,bx as f,bB as h,bh as V}from"./Akubela-element-plus-Vendor-47553b40.js";import{s as A,e as S}from"./config-178dd060.js";import{_}from"./index-722e1dac.js";import{u as x,ao as y,b7 as z,b3 as $,b8 as N,b9 as E,ba as U}from"./Akubela-login-home-part-Vendor-facddf88.js";import"./Akubela-devices-img-Vendor-0f46fa2c.js";import"./Akubela-scenes-security-other-img-Vendor-2a1534ad.js";const T={class:"engr-account"},k={class:"card-header"},I={class:"engr-common-row"},D={class:"engr-common-row-left"},j={class:"engr-common-row-right"},O={class:"engr-common-row"},R={class:"engr-common-row-left"},M={class:"engr-common-row-right"},C={class:"engr-common-row"},F={class:"engr-common-row-left"},q={class:"engr-common-row-right"},B={class:"engr-common-row"},K={class:"engr-common-row-left"},L={class:"engr-common-row-right"},G={class:"engr-common-row"},H={class:"engr-common-row-left"},J={class:"engr-common-row-right"},Q={class:"engr-common-row"},W={class:"engr-common-row-left"},X={class:"engr-common-row-right"},Y={class:"card-header"},Z={class:"engr-common-row"},ee={class:"engr-common-row-left"},oe={class:"engr-common-row-right"},ae={class:"engr-common-row engr-account-row"},le={class:"engr-common-row-left"},re={class:"engr-common-row-right"},ne={class:"engr-common-row-right__span"},te={class:"engr-common-row engr-account-row"},se={class:"engr-common-row-left"},de={class:"engr-common-row-right"},ue={class:"engr-common-row-right__span"},ie={class:"card-header"},ce={class:"engr-common-row"},me={class:"engr-common-row-left"},ge={class:"engr-common-row-right"},ve={class:"engr-common-row"},be={class:"engr-common-row-left"},pe={class:"engr-common-row-right"},Pe={class:"engr-common-row engr-account-row"},we={class:"engr-common-row-left"},fe={class:"engr-common-row-right"},he={class:"engr-common-row-right__span"},Ve={class:"engr-common-row"},Ae={class:"engr-common-row-left"},Se={class:"engr-common-row-right"},_e={class:"engr-common-row engr-account-row"},xe={class:"engr-common-row-left"},ye={class:"engr-common-row-right"},ze={class:"engr-common-row-right__span"},$e={class:"card-header"},Ne={class:"engr-common-row"},Ee={class:"engr-common-row-left"},Ue={class:"engr-common-row-right"},Te={class:"card-header"},ke={class:"engr-common-row"},Ie={class:"engr-common-row-left"},De={class:"engr-common-row-right"},je={class:"engr-common-row engr-account-row"},Oe={class:"engr-common-row-left"},Re={class:"engr-common-row-right"},Me={class:"engr-common-row-right__span"},Ce={class:"engr-common-row"},Fe={class:"engr-common-row-left"},qe={class:"engr-common-row-right"},Be={__name:"index",setup(Be){const{t:Ke}=x();let Le=e({loading:!1,timeAuto:null});const Ge=[{value:"0",label:Ke("UDP")},{value:"1",label:Ke("TCP")},{value:"2",label:Ke("TLS")},{value:"3",label:Ke("DNS-SRV")}],He=e({statusText:"",status:!1,accountEnable:!1,displayName:"",registerName:"",userName:"",password:"",sipAddress:"",sipPort:"5060",regisPeriod:"1800",outboundEnable:!1,outboundProxy:"",outboundPort:"",outboundAlterServer:"",outboundAlterServerPort:"",transType:"",udpAlive:!1,outboundAlterPort:"",rportEnabled:!1}),Je=(e,o,a)=>{if(o){const e=y(o)>63,l=!z(o);e||l?a(Ke("Please enter a name that only contains numbers, letters and underscores.")):a()}He.accountEnable||o||a();const l={displayName:Ke("Please enter a name that only contains numbers, letters and underscores."),registerName:Ke("Please enter the register name.")};He.accountEnable&&!o&&a(Ke(l[null==e?void 0:e.field])),a()},Qe={sipAddress:{enable:!0},outboundProxy:{enable:!1},outboundAlterServer:{enable:!1}},We=(e,o,a)=>{var l;if(He.accountEnable&&!o&&(null==(l=Qe[null==e?void 0:e.field])?void 0:l.enable)&&a(Ke("Please enter a valid Server address.")),o){const e=y(o)>63,l=$(o),r=N(o),n=E(o);e&&a(Ke("Please enter a valid Server address.")),l||r||n||a(Ke("Please enter a valid Server address."))}a()},Xe={sipPort:{min:1024,text:Ke("Please enter a valid sip server port."),enable:!0},regisPeriod:{min:30,text:Ke("Please enter a valid number."),enable:!0},outboundPort:{min:1024,text:Ke("Please enter a valid sip server port."),enable:!1},outboundAlterServerPort:{min:1024,text:Ke("Please enter a valid sip server port."),enable:!1}},Ye=(e,o,a)=>{var l,r,n;const t=Ke(null==(l=null==Xe?void 0:Xe[null==e?void 0:e.field])?void 0:l.text),s=null==(r=null==Xe?void 0:Xe[null==e?void 0:e.field])?void 0:r.min,d=null==(n=null==Xe?void 0:Xe[null==e?void 0:e.field])?void 0:n.enable;if(He.accountEnable&&!o&&d&&a(t),o){U(o)||a(t);const e=Number(o);(e<s||e>65535)&&a(t)}a()},Ze=e({displayName:[{validator:Je,trigger:"change"}],registerName:[{validator:Je,trigger:"change"}],userName:[{validator:(e,o,a)=>{y(o)>63&&a(Ke("Please enter a valid username.")),He.accountEnable&&!o&&a(Ke("Please enter the username.")),a()},trigger:"change"}],password:[{validator:(e,o,a)=>{y(o)>63?a(Ke("Please enter a valid password.")):a()},trigger:"change"}],sipAddress:[{validator:We,trigger:"change"}],sipPort:[{validator:Ye,trigger:"change"}],regisPeriod:[{validator:Ye,trigger:"change"}],outboundProxy:[{validator:We,trigger:"change"}],outboundPort:[{validator:Ye,trigger:"change"}],outboundAlterServer:[{validator:We,trigger:"change"}],outboundAlterServerPort:[{validator:Ye,trigger:"change"}],outboundAlterPort:[{validator:(e,o,a)=>{o||a();U(o)||a(Ke("Please enter a valid UDP Alive Msg Interval."));const l=Number(o);(l<5||l>60)&&a(Ke("Please enter a valid UDP Alive Msg Interval.")),a()},trigger:"change"}]});o((()=>{eo(),oo()})),a((()=>{clearTimeout(Le.timeAuto)}));const eo=async()=>{Le.loading=!0,setTimeout((()=>{Le.loading=!1}),2e4);A.getAccountPage((e=>{if(Le.loading=!1,e)for(let o in e)He[o]=e[o]}))},oo=()=>{clearTimeout(Le.timeAuto),Le.timeAuto=setTimeout((()=>{A.getAccountStatus((e=>{if(e)for(let o in e)He[o]=e[o];oo()}))}),3e3)},ao=l(null),lo=()=>{ao.value.validate((e=>{if(e){const e={...He,accountEnable:He.accountEnable?"1":"0",outboundEnable:He.outboundEnable?"1":"0",udpAlive:He.udpAlive?"1":"0",rportEnabled:He.rportEnabled?"1":"0"};A.setAccountPage(e,eo)}}))};return(e,o)=>{const a=v,l=b,A=p,x=P,y=w,z=f,$=h,N=V;return r((t(),s("div",T,[d($,{ref_key:"ruleFormRef",ref:ao,model:He,class:"engr-account-form commen-main-box",rules:Ze,"label-width":"120px"},{default:u((()=>[d(x,null,{header:u((()=>[i("div",k,[i("span",null,c(e.$t("SIP Account")),1)])])),default:u((()=>[i("div",I,[i("div",D,c(e.$t("Status")),1),i("div",j,c(He.statusText),1)]),i("div",O,[i("div",R,c(e.$t("Account Enable")),1),i("div",M,[d(a,{modelValue:He.accountEnable,"onUpdate:modelValue":o[0]||(o[0]=e=>He.accountEnable=e),"akubela-test":`account-switch-${He.accountEnable}`,size:"large"},null,8,["modelValue","akubela-test"])])]),i("div",C,[i("div",F,c(e.$t("Display Name")),1),i("div",q,[d(A,{label:"",prop:"displayName"},{default:u((()=>[d(l,{modelValue:He.displayName,"onUpdate:modelValue":o[1]||(o[1]=e=>He.displayName=e),"akubela-test":"account-displayName",maxlength:63,size:n(S)},null,8,["modelValue","size"])])),_:1})])]),i("div",B,[i("div",K,c(e.$t("Register Name")),1),i("div",L,[d(A,{label:"",prop:"registerName"},{default:u((()=>[d(l,{modelValue:He.registerName,"onUpdate:modelValue":o[2]||(o[2]=e=>He.registerName=e),"akubela-test":"account-registerName",maxlength:63,size:n(S)},null,8,["modelValue","size"])])),_:1})])]),i("div",G,[i("div",H,c(e.$t("Username")),1),i("div",J,[d(A,{label:"",prop:"userName"},{default:u((()=>[d(l,{modelValue:He.userName,"onUpdate:modelValue":o[3]||(o[3]=e=>He.userName=e),"akubela-test":"account-userName",maxlength:63,size:n(S)},null,8,["modelValue","size"])])),_:1})])]),i("div",Q,[i("div",W,c(e.$t("Password")),1),i("div",X,[d(A,{label:"",prop:"password"},{default:u((()=>[d(l,{modelValue:He.password,"onUpdate:modelValue":o[4]||(o[4]=e=>He.password=e),maxlength:63,size:n(S)},null,8,["modelValue","size"])])),_:1})])])])),_:1}),d(x,{class:"engr-account-second"},{header:u((()=>[i("div",Y,[i("span",null,c(e.$t("SIP Server")),1)])])),default:u((()=>[i("div",Z,[i("div",ee,c(e.$t("SIP Server Address")),1),i("div",oe,[d(A,{label:"",prop:"sipAddress"},{default:u((()=>[d(l,{modelValue:He.sipAddress,"onUpdate:modelValue":o[5]||(o[5]=e=>He.sipAddress=e),"akubela-test":"account-SIP-Server-Address",size:n(S),maxlength:63},null,8,["modelValue","size"])])),_:1})])]),i("div",ae,[i("div",le,c(e.$t("SIP Server Port")),1),i("div",re,[d(A,{label:"",prop:"sipPort"},{default:u((()=>[d(l,{modelValue:He.sipPort,"onUpdate:modelValue":o[6]||(o[6]=e=>He.sipPort=e),size:n(S)},null,8,["modelValue","size"])])),_:1}),i("span",ne,c(e.$t("1024-65535")),1)])]),i("div",te,[i("div",se,c(e.$t("Registration Period")),1),i("div",de,[d(A,{label:"",prop:"regisPeriod"},{default:u((()=>[d(l,{modelValue:He.regisPeriod,"onUpdate:modelValue":o[7]||(o[7]=e=>He.regisPeriod=e),size:n(S)},null,8,["modelValue","size"])])),_:1}),i("span",ue,c(e.$t("30-65535S")),1)])])])),_:1}),d(x,{class:"engr-account-second"},{header:u((()=>[i("div",ie,[i("span",null,c(e.$t("Outbound Proxy Server")),1)])])),default:u((()=>[i("div",ce,[i("div",me,c(e.$t("Outbound Enable")),1),i("div",ge,[d(a,{modelValue:He.outboundEnable,"onUpdate:modelValue":o[8]||(o[8]=e=>He.outboundEnable=e),size:"large"},null,8,["modelValue"])])]),i("div",ve,[i("div",be,c(e.$t("Preferred Outbound Proxy Server")),1),i("div",pe,[d(A,{label:"",prop:"outboundProxy"},{default:u((()=>[d(l,{modelValue:He.outboundProxy,"onUpdate:modelValue":o[9]||(o[9]=e=>He.outboundProxy=e),size:n(S),maxlength:63},null,8,["modelValue","size"])])),_:1})])]),i("div",Pe,[i("div",we,c(e.$t("Preferred Outbound Proxy Server Port")),1),i("div",fe,[d(A,{label:"",prop:"outboundPort"},{default:u((()=>[d(l,{modelValue:He.outboundPort,"onUpdate:modelValue":o[10]||(o[10]=e=>He.outboundPort=e),size:n(S)},null,8,["modelValue","size"])])),_:1}),i("span",he,c(e.$t("1024-65535")),1)])]),i("div",Ve,[i("div",Ae,c(e.$t("Alternate Outbound Proxy Server")),1),i("div",Se,[d(A,{label:"",prop:"outboundAlterServer"},{default:u((()=>[d(l,{modelValue:He.outboundAlterServer,"onUpdate:modelValue":o[11]||(o[11]=e=>He.outboundAlterServer=e),size:n(S),maxlength:63},null,8,["modelValue","size"])])),_:1})])]),i("div",_e,[i("div",xe,c(e.$t("Alternate Outbound Proxy Server Port")),1),i("div",ye,[d(A,{label:"",prop:"outboundAlterServerPort"},{default:u((()=>[d(l,{modelValue:He.outboundAlterServerPort,"onUpdate:modelValue":o[12]||(o[12]=e=>He.outboundAlterServerPort=e),size:n(S)},null,8,["modelValue","size"])])),_:1}),i("span",ze,c(e.$t("1024-65535")),1)])])])),_:1}),d(x,{class:"engr-account-second"},{header:u((()=>[i("div",$e,[i("span",null,c(e.$t("Transport Type")),1)])])),default:u((()=>[i("div",Ne,[i("div",Ee,c(e.$t("Type")),1),i("div",Ue,[d(z,{modelValue:He.transType,"onUpdate:modelValue":o[13]||(o[13]=e=>He.transType=e),size:"large"},{default:u((()=>[(t(),s(m,null,g(Ge,(e=>d(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])])])),_:1}),d(x,{class:"engr-account-second"},{header:u((()=>[i("div",Te,[i("span",null,c(e.$t("NAT")),1)])])),default:u((()=>[i("div",ke,[i("div",Ie,c(e.$t("UDP Keep Alive Messages")),1),i("div",De,[d(a,{modelValue:He.udpAlive,"onUpdate:modelValue":o[14]||(o[14]=e=>He.udpAlive=e),size:"large"},null,8,["modelValue"])])]),i("div",je,[i("div",Oe,c(e.$t("UDP Alive Msg Interval")),1),i("div",Re,[d(A,{label:"",prop:"outboundAlterPort"},{default:u((()=>[d(l,{modelValue:He.outboundAlterPort,"onUpdate:modelValue":o[15]||(o[15]=e=>He.outboundAlterPort=e),size:n(S)},null,8,["modelValue","size"])])),_:1}),i("span",Me,c(e.$t("5-60sec")),1)])]),i("div",Ce,[i("div",Fe,c(e.$t("RPort Enabled")),1),i("div",qe,[d(a,{modelValue:He.rportEnabled,"onUpdate:modelValue":o[16]||(o[16]=e=>He.rportEnabled=e),size:"large"},null,8,["modelValue"])])])])),_:1})])),_:1},8,["model","rules"]),d(_,{onCancel:eo,onSubmit:lo})])),[[N,n(Le).loading]])}}};export{Be as default};
