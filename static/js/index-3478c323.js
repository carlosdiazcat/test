import{b as t,r as e,w as s,l,p as o,b4 as i,b5 as a,b7 as n,br as r,F as p,bl as d,b8 as h}from"./Akubela-element-plus-Vendor-47553b40.js";const u={__name:"index",props:{listData:{type:Array,default:()=>[]},contentHeight:{type:String,default:"500"}},setup(u){const c=u,x=t({showList:[],itemHeight:30,showNum:0,top:0,scrollTop:0,startIndex:0,endIndex:0}),m=e(),b=()=>{var t,e;x.showNum=Math.ceil(c.contentHeight/x.itemHeight),x.startIndex=Math.floor(x.scrollTop/x.itemHeight),x.endIndex=x.startIndex+x.showNum,x.showList=null==(e=null==(t=c.listData)?void 0:t.slice)?void 0:e.call(t,x.startIndex,x.endIndex);const s=x.scrollTop-x.scrollTop%x.itemHeight;x.top=s},v=()=>{x.scrollTop=m.value.scrollTop,b()};return s((()=>c.listData),(()=>{b()})),l((()=>{v()})),o((()=>{m.value=null})),(t,e)=>(i(),a("div",{ref_key:"contentBox",ref:m,style:r({height:`${c.contentHeight}px`}),class:"virtual-list-box",onScroll:v},[n("div",{style:r({height:x.itemHeight*c.listData.length+"px",position:"relative"}),class:"virtual-list-box-main"},[n("div",{style:r({position:"absolute",top:`${x.top}px`})},[(i(!0),a(p,null,d(x.showList,((e,s)=>(i(),a("div",{key:s,class:"virtual-list-box-main-item"},[h(t.$slots,"default",{listItem:e,index:s})])))),128))],4)],4)],36))}};export{u as default};
