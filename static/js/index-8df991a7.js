import{b as e,r as t,l as a,j as n,w as s,c4 as i,c3 as l,c5 as o,b4 as m,be as c,bc as u,b7 as d,v as r,b5 as g,F as p,bl as h,bb as _,q as b,ba as v,b9 as w,bf as y,c6 as x,p as f,cn as k,co as S,z as N,bd as I,c7 as D,c8 as A,c9 as T,ca as P,bm as j}from"./Akubela-element-plus-Vendor-47553b40.js";import M from"./index-d7a2cb64.js";import{o as C,an as V,u as E,a4 as R,aQ as $,g as F,ab as q,n as L}from"./Akubela-login-home-part-Vendor-facddf88.js";import{s as O}from"./config-178dd060.js";import"./AddDeviceScan-3d850729.js";import"./AddSettingDevcie-8f47d357.js";import"./CommonInputDialog.vue_vue_type_style_index_0_lang-b88a24f0.js";import"./Akubela-devices-img-Vendor-0f46fa2c.js";import"./Akubela-scenes-security-other-img-Vendor-2a1534ad.js";const z={class:"lay-left"},G={class:"lay-content"},H={id:"menu-adjust",class:"lay-menu"},K={class:"content-top"},Q={class:"top-img"},B=["src"],J=["id"],U=["src"],W={class:"title-text"},X={class:"sub-big-box"},Y=["src"],Z={class:"title-text"},ee={__name:"left",emits:["setName"],setup(f,{emit:k}){const S=C(),N=V(),I=N.deviceModel,{t:D}=E();let A=e({acceptData:{},loading:!1});const T=R(),P=t(""),j=t(!1),M=t("4"),q={menuName:"API Control",icon:"device.webp",iconSelect:"device_selected.webp",muIndex:"6",children:[{menuName:"APIConnection",icon:"home/third_party_apk.webp",iconSelect:"home/third_party_apk_selected.webp",muIndex:"6-0",name:"APIConnection"},{menuName:"DeviceManagement",icon:"home/third_party_apk.webp",iconSelect:"home/third_party_apk_selected.webp",muIndex:"6-1",name:"DeviceManagement"},{menuName:"Scenes Management",icon:"home/third_party_apk.webp",iconSelect:"home/third_party_apk_selected.webp",muIndex:"6-2",name:"ScenesManagement"}]},L=e([{menuName:"Status",icon:"home/status.webp",iconSelect:"home/status_selected.webp",muIndex:"0",name:"Status"},{menuName:"Network",icon:"home/network.webp",iconSelect:"home/network_selected.webp",muIndex:"1",name:"Network"},{menuName:"Account",icon:"home/account.webp",iconSelect:"home/account_selected.webp",muIndex:"2",name:"Account"},{menuName:"Display",icon:"home/display.webp",iconSelect:"home/display_selected.webp",muIndex:"3",name:"Display"},{menuName:"Multicast",icon:"home/account.webp",iconSelect:"home/account_selected.webp",muIndex:"9",name:"Multicast"},{menuName:"Third Party APK",icon:"home/third_party_apk.webp",iconSelect:"home/third_party_apk_selected.webp",muIndex:"4",name:"Thirdapk"},{menuName:"Device",icon:"device.webp",iconSelect:"device_selected.webp",muIndex:"5",name:"Device"},{menuName:"Settings",icon:"energy.webp",iconSelect:"energy_selected.webp",muIndex:"7",name:"EngrSetting"},{menuName:"Diagnosis",icon:"home/diagnosis.webp",iconSelect:"home/diagnosis_selected.webp",muIndex:"8",name:"Diagnosis"}]),ee={HiddenPage:D("Diagnosis"),8848:""},te=(e,t,a)=>{if(2===t.length){P.value=e;const a=L.find((e=>e.muIndex===t[0])),n=t[1].split("-"),s=a.children[Number(n[1])];null==T||T.push({name:s.name}),k("setName",s.name)}else{const t=L.find((t=>t.muIndex===e));P.value=e,null==T||T.push({name:t.name}),k("setName",t.name)}};a((()=>{ie(),ae()}));const ae=()=>{A.loading=!0,O.getSettingPage((e=>{if(e)for(let t in e)A[t]=e[t];ne()}))},ne=()=>{N.isApiVersion=S.getGuoNei,N.isApiVersion&&L.splice(6,0,q),A.loading=!1,oe(T.currentRoute.value)},se=(e,t)=>{for(let a of e){if(a.name===t)return a;if(a.children&&a.children.length){const e=se(a.children,t);if(e)return e}}return null},ie=()=>{var e,t;let a=0;const n=null==(e=T.currentRoute)?void 0:e.value.name;L.forEach(((e,t)=>{n===e.name&&(a=t)})),P.value=a.toString(),M.value=a.toString(),k("setName",L[Number(M.value)].name);const s=se(L,n);s?(P.value=s.muIndex.toString(),M.value=s.muIndex.toString(),k("setName",s.name)):(P.value="",M.value="",k("setName",null!=(t=null==ee?void 0:ee[n])?t:""))},le=n((()=>{const e=$[I];return L.filter((t=>!(null==e?void 0:e.fitlerRouter)||!e.fitlerRouter.includes(t.name)))})),oe=e=>{const t=se(L,e.name);P.value=null==t?void 0:t.muIndex,M.value=null==t?void 0:t.muIndex,k("setName",t.name)};return s((()=>T.currentRoute.value),((e,t)=>{A.loading||oe(e)})),(e,t)=>{const a=x,n=i,s=l,f=o;return m(),c(f,{"default-active":M.value,class:"engr-el-menu-vertical","unique-opened":!0,onSelect:te},{default:u((()=>[d("div",z,[d("div",G,[d("div",H,[d("div",K,[d("div",Q,[d("img",{"akubela-test":"akubela-logo-left-show",alt:"smart home,home automation,homekit,smart security,smart home systems,google home",src:r(F)("logo-no-name.webp"),class:"lay-img"},null,8,B)])]),(m(!0),g(p,null,h(le.value,(t=>(m(),g(p,{key:t.menuName},[t.children?(m(),c(s,{key:0,index:t.muIndex,class:_(j.value?"menu-active":"")},{title:u((()=>[d("div",{id:"elDiv"+t.muIndex},[d("div",null,[b(a,null,{default:u((()=>[d("img",{alt:"smart home,home automation,homekit,smart security,smart home systems,google home",class:"cont-icon",src:t.muIndex===P.value?r(F)(t.iconSelect):r(F)(t.icon)},null,8,U)])),_:2},1024),d("span",W,v(e.$t(t.menuName)),1),d("span",X,[d("div",{class:_(j.value?"sub-triangle-active":"sub-triangle")},null,2)])])],8,J)])),default:u((()=>[(m(!0),g(p,null,h(t.children,(t=>(m(),c(n,{key:t.muIndex,index:t.muIndex},{default:u((()=>[w(v(e.$t(t.menuName)),1)])),_:2},1032,["index"])))),128))])),_:2},1032,["index","class"])):y("",!0),t.children?y("",!0):(m(),c(n,{key:1,index:t.muIndex,"akubela-test":`layout-menu-${t.menuName.replace(/\s/g,"")}`},{title:u((()=>[d("span",Z,v(e.$t(t.menuName)),1)])),default:u((()=>[b(a,null,{default:u((()=>[d("img",{alt:"smart home,home automation,homekit,smart security,smart home systems,google home",class:"cont-icon",src:t.muIndex===P.value?r(F)(t.iconSelect):r(F)(t.icon)},null,8,Y)])),_:2},1024)])),_:2},1032,["index","akubela-test"]))],64)))),128))])])])])),_:1},8,["default-active"])}}},te={class:"engr-layout-top-content"},ae=d("div",{class:"lay-logo"},null,-1),ne={__name:"top",setup(t){const a=V();E(),R(),e({acceptData:{},otherAddShow:!1,homeNow:"Family account"});const n=async()=>{a.gotOut()};return(e,t)=>(m(),g("div",te,[d("div",{class:"lay-top"},[ae,d("div",{class:"lay-right"},[d("span",{class:"lay-right-out",onClick:n})])])]))}},se={class:"engr-layout"},ie={key:0,class:"engr-layout-box"},le=["src"],oe={class:"engr-layout-box__span"},me={__name:"index",setup(t){const{t:n}=E(),s=V(),i=e({name:"",imgPath:"engr_module_assets/status.webp",timer:"",initSuccess:!1}),l={Status:"engr_module_assets/images/status.webp",Network:"engr_module_assets/images/network.webp",Account:"engr_module_assets/images/account.webp",Display:"engr_module_assets/images/display.webp",Device:"engr_module_assets/images/device.webp",EngrSetting:"engr_module_assets/images/setting.webp",Thirdapk:"engr_module_assets/images/third_party.webp"},o=e=>{var t;i.name=e,i.imgPath=null!=(t=null==l?void 0:l[e])?t:""};a((()=>{p(),q.set("lastClickTime",(new Date).getTime()),s.getSeleId(),window.addEventListener("click",h,!0),setTimeout((()=>{}),3e3),h()}));const p=()=>{i.initSuccess=!1,setTimeout((()=>{i.initSuccess=!0}),2e3);O.getStatus((e=>{i.initSuccess=!0;const t=(null==e?void 0:e.deviceModeal)||"PS51";i.deviceModel=t,s.deviceModel=t}))},h=()=>{const e=q.get("lastClickTime");(new Date).getTime()-e<9e5&&(q.set("lastClickTime",(new Date).getTime()),_())},_=()=>{w(),i.timer=setTimeout((()=>{L(n("Account has expired, please log in again"),"error"),s.gotOut()}),9e5)},w=()=>{clearTimeout(i.timer)};return f((()=>{w(),window.removeEventListener("click",h)})),(e,t)=>{const a=D,n=A,l=k,p=S,h=N("router-view"),_=T,w=P;return m(),g("div",se,[r(s).isFirstShow?(m(),g("div",ie,[i.initSuccess?(m(),c(w,{key:0},{default:u((()=>[b(a,{height:"40px"},{default:u((()=>[b(ne)])),_:1}),b(w,{class:"container__part"},{default:u((()=>[b(n,{width:"240px"},{default:u((()=>[b(ee,{onSetName:o})])),_:1}),b(_,{"element-loading-background":"rgba(255, 255, 255, 0)"},{default:u((()=>["Diagnosis"!==i.name&&"Multicast"!==i.name?(m(),c(p,{key:0,separator:"/",class:"engr-layout-box-breadrumb"},{default:u((()=>[b(l,null,{default:u((()=>[i.imgPath?(m(),g("img",{key:0,alt:"smart home,home automation,homekit,smart security,smart home systems,google home",class:"engr-layout-box__img",src:r(F)(i.imgPath)},null,8,le)):y("",!0),d("span",oe,v(e.$t(i.name)),1)])),_:1})])),_:1})):y("",!0),b(h)])),_:1})])),_:1})])),_:1})):y("",!0)])):y("",!0),I(b(M,{show:!1},null,512),[[j,!1]])])}}};export{me as default};
