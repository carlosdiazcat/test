import{r as e,b as a,j as t,l as s,w as o,ci as l,b4 as i,b5 as m,q as d,bc as n,b7 as c,ba as r,bf as u,bz as g}from"./Akubela-element-plus-Vendor-47553b40.js";import{u as D,w as v,m as p,n as f,a as w,s as h}from"./Akubela-login-home-part-Vendor-facddf88.js";import"./Akubela-devices-img-Vendor-0f46fa2c.js";import"./Akubela-scenes-security-other-img-Vendor-2a1534ad.js";const T={class:"setting-dialog-dnd"},b={class:"common-first-row"},S={class:"common-dialog-row"},N={class:"common-dialog-left"},V={class:"common-dialog-row-left-text"},k={class:"common-dialog-right"},H={class:"common-first-title"},E={class:"common-dialog-row"},I={class:"common-dialog-left"},x={class:"common-dialog-row-left-text"},$={class:"common-dialog-right"},j={key:0},y={class:"common-dialog-row"},U={class:"common-dialog-left"},_={class:"common-dialog-row-left-text"},A={class:"common-dialog-right"},B={class:"dnd-popup-time-right"},C={class:"common-dialog-row"},q={class:"common-dialog-left"},M={class:"common-dialog-row-left-text"},z={class:"common-dialog-right"},F={class:"dnd-popup-time-right"},G={__name:"DialogDnd",props:{show:{type:Boolean,required:!0,default:!1}},emits:["update:show"],setup(G,{emit:J}){const K=G,{t:L}=D();let O=v();const P=e(!1),Q=e(!1),R=a({acceptData:{},starTime:"",endTime:"",akData:{}}),W=t({get:()=>K.show,set:e=>{J("update:show",e)}});s((()=>{X()}));const X=()=>{var e;R.acceptData[O.wId]=Y;const a={type:"ak_config/get",id:O.wId++,item:["Settings.DND.Enable","Settings.DND.SpecificTime","Settings.DND.StartTime","Settings.DND.EndTime"]};null==(e=O.ws)||e.send(p(a))},Y=e=>{if(!e.success)return f(L("errorMessage"),"error");R.akData=e.result,P.value=R.akData["Settings.DND.Enable"],Q.value=R.akData["Settings.DND.SpecificTime"],R.starTime=R.akData["Settings.DND.StartTime"],R.endTime=R.akData["Settings.DND.EndTime"]},Z=()=>{var e;R.acceptData[O.wId]=ee;const a={type:"config/notice_change",source:"web",id:O.wId++};a["Settings.DND.Enable"]=parseInt(P.value||"0"),a["Settings.DND.SpecificTime"]=parseInt(Q.value||"0"),a["Settings.DND.StartTime"]=R.starTime,a["Settings.DND.EndTime"]=R.endTime,null==(e=O.ws)||e.send(p(a))},ee=e=>{if(!e.success)return f(L("errorMessage"),"error");J("update:show",!1)},ae=()=>{J("update:show",!1)};return o((()=>O.updataId),(e=>{h(R.acceptData,e,O)}),{immediate:!0}),(e,a)=>{const t=g,s=l;return i(),m("div",T,[d(w,{show:W.value,"onUpdate:show":a[4]||(a[4]=e=>W.value=e),title:e.$t("DND"),onButtonCancel:ae,onButtonConfirm:Z},{content:n((()=>[c("div",b,[c("div",S,[c("div",N,[c("div",V,r(e.$t("DND")),1)]),c("div",k,[d(t,{modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=e=>P.value=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])])]),c("div",H,r(e.$t("Calls and messages will be muted after Do Not Disturb is turned on (except the alarm clock)")),1)]),c("div",E,[c("div",I,[c("div",x,r(e.$t("DND Time Schedule")),1)]),c("div",$,[d(t,{modelValue:Q.value,"onUpdate:modelValue":a[1]||(a[1]=e=>Q.value=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])])]),"1"===Q.value?(i(),m("div",j,[c("div",y,[c("div",U,[c("div",_,r(e.$t("DND Start Time")),1)]),c("div",A,[c("div",B,[d(s,{modelValue:R.starTime,"onUpdate:modelValue":a[2]||(a[2]=e=>R.starTime=e),class:"dnd-default-time",clearable:!1,format:"HH:mm","value-format":"HH:mm","popper-class":"dnd-time-hmm"},null,8,["modelValue"])])])]),c("div",C,[c("div",q,[c("div",M,r(e.$t("DND End Time")),1)]),c("div",z,[c("div",F,[d(s,{modelValue:R.endTime,"onUpdate:modelValue":a[3]||(a[3]=e=>R.endTime=e),class:"dnd-default-time",clearable:!1,format:"HH:mm","value-format":"HH:mm","popper-class":"dnd-time-hmm"},null,8,["modelValue"])])])])])):u("",!0)])),_:1},8,["show","title"])])}}};export{G as default};
