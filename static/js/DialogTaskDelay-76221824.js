import{r as e,b as s,j as a,w as t,p as o,b4 as l,b5 as d,q as n,bc as r,b7 as i,ba as u,bs as m,bn as c,bA as p,bB as f}from"./Akubela-element-plus-Vendor-47553b40.js";import{u as b,w as h,a as v,s as w}from"./Akubela-login-home-part-Vendor-facddf88.js";import"./Akubela-devices-img-Vendor-0f46fa2c.js";import"./Akubela-scenes-security-other-img-Vendor-2a1534ad.js";const g={class:"scenes-task-delay"},y={class:"common-row-space"},_={class:"setting__input-title"},k={class:"setting__input-left"},x={class:"setting__input-content"},T={class:"setting_input-right"},V={class:"task-delay__right"},j={__name:"DialogTaskDelay",props:{show:{type:Boolean,required:!0,default:!1},isdecimal:{type:Boolean,required:!0,default:!0}},emits:["update:show","open-dia-show","set-add-obj","pop-closed"],setup(j,{emit:B}){const N=j,{t:A}=b();let D=h();const $=e(),E=s({recevieData:{},form:{sendText:"900"},defaultShow:!0,familyList:[]}),I=s({sendText:[{validator:(e,s,a)=>isNaN(Number(s,10))?a(new Error(A("Invalid delay time"))):!N.isdecimal&&s.toString().includes(".")?a(new Error(A("Enter a positive integer"))):Number(s,10)>7200||Number(s,10)<=0?a(new Error(A("Valid value range is 1-7200"))):a(),trigger:"change"}]}),S=()=>{B("open-dia-show"),B("update:show",!1)},q=()=>{$.value.validate((e=>{if(e){const e={delay:{hours:parseInt(E.form.sendText/3600),milliseconds:0,minutes:parseInt(E.form.sendText%3600/60),seconds:E.form.sendText%60}};B("set-add-obj",e),E.form.sendText=900,B("update:show",!1)}}))},C=a({get:()=>N.show,set:e=>{B("update:show",e)}}),U=()=>{B("update:show",!1),B("pop-closed")},F=a((()=>{let e=!1;return E.form.sendText&&(e=!0),(Number(E.form.sendText,10)>7200||Number(E.form.sendText,10)<0)&&(e=!1),e}));return t((()=>D.updataId),(e=>{w(E.recevieData,e,D)}),{immediate:!0}),o((()=>{$.value=null,E.recevieData=null})),(e,s)=>{const a=c,t=p,o=f;return l(),d("div",g,[n(v,{show:C.value,"onUpdate:show":s[2]||(s[2]=e=>C.value=e),"back-show":!0,"is-ash":!F.value,title:e.$t("delay"),class:"akubela-test-scenes-task-delay",onButtonCancel:U,onButtonBack:S,onButtonConfirm:q},{content:r((()=>[i("div",y,[i("div",_,[i("div",k,u(e.$t("delay")),1)]),i("div",x,[n(o,{ref_key:"ruleFormRef",ref:$,model:E.form,rules:I,onSubmit:s[1]||(s[1]=m((()=>{}),["prevent"]))},{default:r((()=>[n(t,{prop:"sendText"},{default:r((()=>[n(a,{modelValue:E.form.sendText,"onUpdate:modelValue":s[0]||(s[0]=e=>E.form.sendText=e),modelModifiers:{trim:!0},"akubela-test":"scenes-add-scenes-task-delay-input",placeholder:e.$t("Please enter a delay time")},null,8,["modelValue","placeholder"])])),_:1})])),_:1},8,["model","rules"]),i("div",T,u(e.$t("Sec")),1)])]),i("div",V,u(e.$t("Valid value range is 1-7200")),1)])),_:1},8,["show","is-ash","title"])])}}};export{j as default};
