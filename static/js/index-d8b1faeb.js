import{b as e,r as t,b4 as r,be as n,bc as o,bd as i,b7 as a,bm as s,q as f,b5 as l,ba as u,bf as h,bb as c,v as p}from"./Akubela-element-plus-Vendor-47553b40.js";import{u as d,S as g,g as y,a as b,ac as m,n as _}from"./Akubela-login-home-part-Vendor-facddf88.js";var v={exports:{}};const A=v.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],o=e[2],i=e[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+t[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+t[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+t[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+t[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+t[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+t[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+t[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+t[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+t[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+t[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+t[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+t[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+t[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+t[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+t[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+t[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+t[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+t[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+t[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+t[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+t[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+t[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+t[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+t[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+o|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function o(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function i(e){var t,o,i,a,s,f,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)r(u,n(e.substring(t-64,t)));for(o=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<o;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(u,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),f=parseInt(a[1],16)||0,i[14]=s,i[15]=f,r(u,i),u}function a(e){var t,n,i,a,s,f,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)r(u,o(e.subarray(t-64,t)));for(n=(e=t-64<l?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(r(u,i),t=0;t<16;t+=1)i[t]=0;return a=(a=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),f=parseInt(a[1],16)||0,i[14]=s,i[15]=f,r(u,i),u}function s(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function f(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var r,n=e.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=e.charCodeAt(r);return t?i:o}function h(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function c(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer}function p(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function d(){this.reset()}return f(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var o,i,a,s,f=this.byteLength,l=t(r,f),u=f;return n!==e&&(u=t(n,f)),l>u?new ArrayBuffer(0):(o=u-l,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,l,o),a.set(s),i)}}(),d.prototype.append=function(e){return this.appendBinary(l(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,o=this._buff.length;for(t=64;t<=o;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),r=f(this._hash),e&&(r=p(r)),this.reset(),r},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var n,o,i,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,e),a=0;a<16;a+=1)e[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=o,e[15]=i,r(this._hash,e)},d.hash=function(e,t){return d.hashBinary(l(e),t)},d.hashBinary=function(e,t){var r=f(i(e));return t?p(r):r},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,n=c(this._buff.buffer,e,!0),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)r(this._hash,o(n.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<o;t+=1)i[t>>2]|=n[t]<<(t%4<<3);return this._finish(i,o),r=f(this._hash),e&&(r=p(r)),this.reset(),r},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e=d.prototype.getState.call(this);return e.buff=h(e.buff),e},d.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var r=f(a(new Uint8Array(e)));return t?p(r):r},d}(),w=["accept"],B={class:"file-dialog-box"},S={class:"file-dialog-box-left"},C={class:"file-dialog-box-name"},k={key:0,class:"file-dialog-box-progress"},x=["src"],U=a("div",{class:"file-box-case"},null,-1),j={key:0,class:"file-title-title"},F=10485760,I={__name:"index",props:{isTopSet:{type:Boolean,default:!1},compare:{type:Boolean,default:!1},title:{type:String,default:" "},apiFun:{type:Function,default:()=>{}},accept:{type:String,default:"*"},okName:{type:String,default:"Submit"},bottomtit:{type:String,default:""}},emits:["before-update","upload","loading-change"],setup(v,{expose:I,emit:N}){const O=v,{t:z}=d(),$=e({loading:!1,show:!1,fileName:z("Not selected any files"),beforeCheck:!0,fileObj:{name:"",size:""},progress:0,chunkTotal:"",fileChunkList:[]}),E=t(null),L=e=>{const t=e.target,r=document.getElementById("file-dialog_input").files,n=r[r.length-1];if(n){$.loading=!0;N("before-update",n,(e=>{$.beforeCheck=e,$.beforeCheck?($.fileObj=n,$.fileName=$.fileObj.name):(t.value="",R()),$.loading=!1})),$.loading=!1}},M=()=>{E.value.click()},R=()=>{if(!$.fileObj.size)return void($.fileName=z("Not selected any files"));const e=document.getElementById("file-dialog_input");(null==e?void 0:e.value)&&(e.value=""),$.fileName=z("Not selected any files"),$.beforeCheck=!0,$.fileObj={name:"",size:""},$.progress=0},T=()=>{if(X=3,O.isTopSet)return N("upload",$.fileObj);$.progress=0,N("loading-change","uploadBefore",0),D($.fileObj)};let X=3;const D=e=>{$.loading=!0;let t=Math.ceil(e.size/F),r=0,n=0,o=new A.ArrayBuffer,i=new FileReader;i.onload=async i=>{if(o.append(i.target.result),n<t){$.progress=Math.ceil(n/t*100),N("loading-change","uploading",Math.ceil(n/t*100));const o=A.ArrayBuffer.hash(i.target.result),f={"X-File-Name":encodeURIComponent($.fileObj.name),"X-File-MD5":o,"Content-Type":"application/octet-stream","Content-Range":`${n}/${t}`};O.compare&&0===n&&(f["X-File-SIZE"]=e.size);const l={configHeder:!0,headers:f,data:i.target.result,_customSilentError:!0},u=async()=>{var e,t,o;if(!m())return _(z("wrong format"),"error"),a();const i=await O.apiFun(l);if(null==(e=null==i?void 0:i.data)?void 0:e.success)n++,s();else{const e={95004007:!0,95004009:!0,95004011:!0},n=null==(o=null==(t=null==i?void 0:i.data)?void 0:t.result)?void 0:o.error;if(e[n])return _(z(n),"error"),a();if(r+=1,r>=X)return _(z("wrong format"),"error"),a();u()}};await u()}else $.loading=!1,$.progress=100,N("loading-change","uploadEnd",100)};const a=()=>{$.loading=!1,$.progress=100,N("loading-change","uploadError",100),V()};i.onerror=()=>{};const s=()=>{const t=n*F,r=t+F>=e.size?e.size:t+F;e.slice(t,r),i.readAsArrayBuffer(e.slice.call(e,t,r))};s()},V=()=>{$.progress=0,$.show=!1,R()};return I({changeShow:()=>{$.show=!$.show,$.show&&R()},closeDialog:V,reset:R}),(e,t)=>(r(),n(b,{show:$.show,"onUpdate:show":t[0]||(t[0]=e=>$.show=e),class:"file-dialog-index","button-cancel-show":!0,title:e.$t(O.title),"button-ok-name":e.$t(O.okName),"is-ash":!$.fileObj.size,"is-ash-loading":!0,onButtonCancel:V,onButtonConfirm:T},{content:o((()=>[i(a("input",{id:"file-dialog_input",ref_key:"files",ref:E,accept:O.accept,type:"file",onChange:L},null,40,w),[[s,!1]]),a("div",B,[a("div",S,[a("div",C,[f(g,{content:$.fileName},null,8,["content"])]),$.progress?(r(),l("div",k,"("+u($.progress)+")%",1)):h("",!0)]),a("img",{alt:"smart home,home automation,homekit,smart security,smart home systems,google home",class:c(["file-dialog-box__img",$.fileObj.size?"":"file-dialog-box__img__hidden"]),src:p(y)("reset.webp"),onClick:R},null,10,x),U,a("div",{class:"file-box-right-text","akubela-test":"engr-upload-Select-File",onClick:M},u(e.$t("Select File")),1)]),O.bottomtit?(r(),l("div",j,u(O.bottomtit),1)):h("",!0)])),_:1},8,["show","title","button-ok-name","is-ash"]))}};export{A as S,I as _};
